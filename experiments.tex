\chapter{Experiments}
To show the usefulness of our improvements of the automatic generator, we have compared several solvers of some minimal problems using different methods in the automatic generator. We have used the benchmark of the automatic generator to generate the solvers and to compare the results because this tool is designed to it perfectly.

We have divided the experiments into three parts. In each part, we are comparing easily comparable methods on which the speed up of the new implemented method can be straightforwardly seen. In the first section, we are comparing one elimination solvers against multiple elimination solvers. In the second part, we are comparing solvers without the matrix partitioning used, with matrix partitioning used only to the last elimation and solvers with matrix partitioning used to all eliminations in the solver. In the last section, we are comparing solvers with different strategies of polynomial generation used. One solver is generated by the systematical generator and the second one is using the $F_4$ strategy.

We have choosen the 9-point relative pose different radial distortion problem \cite{9pt} for the testing. This problem consists of four polynomial equations in four unknowns. The number of all parameters is 63. The definition of this minimal problem can be found under the name \texttt{ku9pt} in the folder \texttt{minimalProblems} in the automatic generator. To generate the solvers, we have used the default settings of the automatic generator obtained by calling of the function \textit{gbs\_InitConfig} if not specified differently. We have tested the generated solvers on randomly generated data, but the data remained the same within each experiment. Each solver was tried on $1\,000$ instances of parameters. All test were performed on Intel Xeon E5-2630 2.30 GHz based computer. The MATLAB R2014a 64-bit was used to the tests.

\section{Multiple elimination solver}
In this part, we are comparing one elimination solver with multiple elimination solvers. We have generated one solver according to the description in the section \ref{subsec:polynomialGenerator}. This first solver consist only of one elimination in the end. The second and the third solvers have been generated as explained in the section \ref{subsec:multipleSolver}. The second solver has been generated with the variable $step$ set to 1 therefore, an elimination is performed always when the maximal total degree of the generated polynomials is increased by 1. This second solver consist of four Gauss-Jordan eliminations. The third solver has been generated with the variable $step$ set to 2. This means, that an elimination is performed when the maximal total degree of the generated polynomials is increased by 2. This solver consists of two eliminations.

We have used the benchmark templates specified in the function \textit{bench\_elimination} from the folder \texttt{benchmark} in the automatic generator. All other settings have remained default.

The computing times of these solvers are in the Table \ref{tab:elim}. The numerical stability of the solvers is shown in the Figure \ref{graph:elim} as histogram of $\log_{10}$ of absolute values of errors.

\begin{figure}[ht]
  \centering
  \resizebox{0.95\textwidth}{!}{\input{graphs/elim.tex}}
  \caption{Histogram of $\log_{10}$ of absolute values of errors for one elimination and multiple elimination solvers.}
  \label{graph:elim}
\end{figure}

\begin{table}[ht]
  \centering
  \begin{tabular}{|c||ccc|}
    \hline
      & \textbf{One elimination} & \textbf{Multiple elimination} & \textbf{Multiple elimination} \\
      & \textbf{solver}          & \textbf{solver} ($step = 1$)  & \textbf{solver} ($step = 2$)\\
    \hline\hline
    \input{sources/graphs/elim_time.tex}
    \hline
  \end{tabular}
  \caption{Computing times of one and multiple elimination solvers.}
  \label{tab:elim}
\end{table}

You can see that the numerical stability of the multiple elimination solvers is slightly worse than the numerical stability of the one elimination solver. In the contrary, the multi elimination solvers are approximately 1.5 times faster than the one elimination solver. Interesting is that the second and third solvers are equivalently fast, but one of them consists of four eliminations and the second one only of two eliminations. Therefore, we can not say that more eliminations lead to faster solvers. So, it is important to run the benchmark to find the optimal number of eliminations for each minimal problem and then choose the best solver for the application.

\section{Matrix partitioning}
\begin{figure}[ht]
  \centering
  \resizebox{0.95\textwidth}{!}{\input{graphs/part.tex}}
  \caption{Histogram of $\log_{10}$ of absolute values of errors for solver without matrix partitioning, solver with matrix partitioning only for the last elimination and solver with matrix partitioning for all eliminations in the solver.}
  \label{graph:part}
\end{figure}

\begin{table}[ht]
  \centering
  \begin{tabular}{|c||ccc|}
    \hline
      & \textbf{Without matrix} & \textbf{Matrix partitioning}      & \textbf{Matrix paritioning} \\
      & \textbf{partitioning}   & \textbf{for the last elimination} & \textbf{for all eliminations} \\
    \hline\hline
    \input{sources/graphs/part_time.tex}
    \hline
  \end{tabular}
  \caption{Computing times of solver without matrix partitioning, of solver with matrix partitioning used for the last elimination and of solver with matrix partitioning used for all eliminations in the solver.}
  \label{tab:part}
\end{table}

\section{$F_4$ strategy}
\begin{figure}[ht]
  \centering
  \resizebox{0.95\textwidth}{!}{\input{graphs/gen.tex}}
  \caption{Histogram of $\log_{10}$ of absolute values of errors for solver generated by the systematical generator and for solver using the $F_4$ strategy.}
  \label{graph:gen}
\end{figure}

\begin{table}[ht]
  \centering
  \begin{tabular}{|c||cc|}
    \hline
    & \textbf{Systematical}    & \textbf{$F_4$ strategy} \\
    &  \textbf{generator used} & \textbf{used} \\
    \hline\hline
    \input{sources/graphs/gen_time.tex}
    \hline
  \end{tabular}
  \caption{Computing times of solver generated by the systematical generator and of the solver using the $F_4$ strategy.}
  \label{tab:gen}
\end{table}
